   |
14 | contract VertexCore is IVertexCore, Initializable {
   | ^ (Relevant source part starts here and spans across multiple lines).

[0m


Running 1 test for src/mock/scripts/TestScript.sol:TestScript
[32m[PASS][0m testFunction():(uint256) (gas: 146)
Test result: [32mok[0m. 1 passed; 0 failed; finished in 192.50Âµs

Running 31 tests for tests/VertexCore.t.sol:VertexCoreTest
[32m[PASS][0m test_VertexCore_CompleteActionFlow() (gas: 562522)
[32m[PASS][0m test_cancelAction_CancelIfDisapproved() (gas: 638862)
[32m[PASS][0m test_cancelAction_CreatorCancelFlow() (gas: 286518)
[32m[PASS][0m test_cancelAction_RevertIfActionExecuted() (gas: 580189)
[32m[PASS][0m test_cancelAction_RevertIfActionExpired() (gas: 543766)
[32m[PASS][0m test_cancelAction_RevertIfActionFailed() (gas: 367445)
[32m[PASS][0m test_cancelAction_RevertIfAlreadyCanceled() (gas: 287807)
[32m[PASS][0m test_cancelAction_RevertIfDisapprovalDoesNotReachQuorum() (gas: 485057)
[32m[PASS][0m test_cancelAction_RevertIfInvalidActionId() (gas: 279411)
[32m[PASS][0m test_cancelAction_RevertIfNotCreator() (gas: 295515)
[32m[PASS][0m test_createAction_RevertIfNoPermissionForSelector() (gas: 40358)
[32m[PASS][0m test_createAction_RevertIfNoPermissionForStrategy() (gas: 40371)
[32m[PASS][0m test_createAction_RevertIfNoPermissionForTarget() (gas: 38230)
[32m[PASS][0m test_createAction_RevertIfPolicyholderNotMinted() (gas: 34303)
[32m[PASS][0m test_createAction_RevertIfStrategyUnauthorized() (gas: 16883)
[32m[PASS][0m test_createAndAuthorizeAccounts_CreateNewAccounts() (gas: 3736589)
[32m[PASS][0m test_createAndAuthorizeStrategies_CreateNewStrategies() (gas: 2963845)
[32m[PASS][0m test_executeAction_RevertIfFailedActionExecution() (gas: 465211)
[32m[PASS][0m test_executeAction_RevertIfInvalidActionId() (gas: 451956)
[32m[PASS][0m test_executeAction_RevertIfNotQueued() (gas: 404109)
[32m[PASS][0m test_executeAction_RevertIfTimelockNotFinished() (gas: 468649)
[32m[PASS][0m test_queueAction_RevertIfInvalidActionId() (gas: 410719)
[32m[PASS][0m test_queueAction_RevertIfNotApproved() (gas: 353412)
[32m[PASS][0m test_setUp() (gas: 28001)
[32m[PASS][0m test_submitApproval_ChangeApprovalSupport() (gas: 311145)
[32m[PASS][0m test_submitApproval_RevertIfActionNotActive() (gas: 443702)
[32m[PASS][0m test_submitApproval_RevertIfDuplicateApproval() (gas: 339646)
[32m[PASS][0m test_submitDisapproval_ChangeDisapprovalSupport() (gas: 500305)
[32m[PASS][0m test_submitDisapproval_RevertIfActionNotQueued() (gas: 265061)
[32m[PASS][0m test_submitDisapproval_RevertIfDuplicateDisapproval() (gas: 542895)
[32m[PASS][0m test_unauthorizeStrategies_UnauthorizeStrategies() (gas: 29170)
Test result: [32mok[0m. 31 passed; 0 failed; finished in 875.23ms

Running 30 tests for tests/VertexAccount.t.sol:VertexAccountTest
[32m[PASS][0m test_VertexAccount_ReceiveERC20() (gas: 59027)
[32m[PASS][0m test_VertexAccount_ReceiveERC721() (gas: 120613)
[32m[PASS][0m test_VertexAccount_ReceiveETH() (gas: 18278)
[32m[PASS][0m test_VertexAccount_SafeReceiveERC721() (gas: 126368)
[32m[PASS][0m test_VertexAccount_TransferApprovedERC20() (gas: 91891)
[32m[PASS][0m test_VertexAccount_TransferApprovedERC721() (gas: 144336)
[32m[PASS][0m test_VertexAccount_TransferApprovedOperatorERC721() (gas: 211827)
[32m[PASS][0m test_VertexAccount_approveERC20_ApproveUSDC() (gas: 65295)
[32m[PASS][0m test_VertexAccount_approveERC20_DecreaseUSDCAllowance() (gas: 82438)
[32m[PASS][0m test_VertexAccount_approveERC20_DecreaseUSDTAllowance() (gas: 67249)
[32m[PASS][0m test_VertexAccount_approveERC20_IncreaseUSDCAllowance() (gas: 82437)
[32m[PASS][0m test_VertexAccount_approveERC20_IncreaseUSDTAllowance() (gas: 67247)
[32m[PASS][0m test_VertexAccount_approveERC20_RevertIfNotVertexMsgSender() (gas: 11056)
[32m[PASS][0m test_VertexAccount_approveERC721_ApproveBAYC() (gas: 153518)
[32m[PASS][0m test_VertexAccount_approveERC721_RevertIfNotVertexMsgSender() (gas: 11045)
[32m[PASS][0m test_VertexAccount_approveOperatorERC721_ApproveBAYC() (gas: 42771)
[32m[PASS][0m test_VertexAccount_approveOperatorERC721_DisapproveBAYC() (gas: 22849)
[32m[PASS][0m test_VertexAccount_approveOperatorERC721_RevertIfNotVertexMsgSender() (gas: 11065)
[32m[PASS][0m test_VertexAccount_execute_DelegateCallTestScript() (gas: 63122)
[32m[PASS][0m test_VertexAccount_execute_RevertIfNotSuccess() (gas: 62829)
[32m[PASS][0m test_VertexAccount_execute_RevertIfNotVertexMsgSender() (gas: 59730)
[32m[PASS][0m test_VertexAccount_transferERC20_RevertIfNotVertexMsgSender() (gas: 11012)
[32m[PASS][0m test_VertexAccount_transferERC20_RevertIfToZeroAddress() (gas: 13987)
[32m[PASS][0m test_VertexAccount_transferERC20_TransferUSDC() (gas: 61348)
[32m[PASS][0m test_VertexAccount_transferERC721_RevertIfNotVertexMsgSender() (gas: 11088)
[32m[PASS][0m test_VertexAccount_transferERC721_RevertIfToZeroAddress() (gas: 13899)
[32m[PASS][0m test_VertexAccount_transferERC721_TransferBAYC() (gas: 121912)
[32m[PASS][0m test_VertexAccount_transfer_RevertIfNotVertexMsgSender() (gas: 10900)
[32m[PASS][0m test_VertexAccount_transfer_RevertIfToZeroAddress() (gas: 13792)
[32m[PASS][0m test_VertexAccount_transfer_TransferETH() (gas: 31064)
Test result: [32mok[0m. 30 passed; 0 failed; finished in 1.77s

Running 19 tests for tests/VertexPolicyNFT.t.sol:VertexPolicyNFTTest
[32m[PASS][0m test_Revoke_CorrectlyRevokesPolicy() (gas: 64608)
[32m[PASS][0m test_batchUpdatePermissions_RevertIfArraysLengthMismatch() (gas: 50569)
[32m[PASS][0m test_batchUpdatePermissions_UpdatesPermissionsCorrectly() (gas: 200364)
[32m[PASS][0m test_batchUpdatePermissions_updatesTimeStamp() (gas: 204055)
[32m[PASS][0m test_expirationTimestamp_DoesNotHavePermissionIfExpired() (gas: 212587)
[32m[PASS][0m test_expirationTimestamp_RevertIfTimestampIsExpired() (gas: 128192)
[32m[PASS][0m test_getSupplyByPermissions_ReturnsCorrectSupply() (gas: 288163)
[32m[PASS][0m test_grantPermission_CorrectlyGrantsPermission() (gas: 246514)
[32m[PASS][0m test_grantPermission_RevertIfArraysLengthMismatch() (gas: 51699)
[32m[PASS][0m test_grantPermission_RevertIfPermissionsArrayEmpty() (gas: 22097)
[32m[PASS][0m test_grantPermission_RevertIfPolicyAlreadyGranted() (gas: 28893)
[32m[PASS][0m test_grantPermissions_GrantsTokenWithExpiration() (gas: 336742)
[32m[PASS][0m test_holderHasPermissionAt_ReturnsCorrectBool() (gas: 298839)
[32m[PASS][0m test_onlyVertex_RevertIfNotVertex() (gas: 11596)
[32m[PASS][0m test_revoke_RevertIfNoPolicySpecified() (gas: 11163)
[32m[PASS][0m test_revoke_RevertIfPolicyNotGranted() (gas: 20971)
[32m[PASS][0m test_tokenURI_ReturnsCorrectURI() (gas: 44385)
[32m[PASS][0m test_totalSupply_ReturnsCorrectSupply() (gas: 270560)
[32m[PASS][0m test_transferFrom_RevertIfTransferFrom() (gas: 10856)
Test result: [32mok[0m. 19 passed; 0 failed; finished in 235.05ms

Running 3 tests for tests/VertexFactory.t.sol:VertexFactoryTest
[32m[PASS][0m testFuzz_deploy_RevertIfNotInitialVertex(address) (runs: 256, Î¼: 34478, ~: 34478)
[32m[PASS][0m test_deploy_DeployIfInitialVertex() (gas: 7318482)
[32m[PASS][0m test_deploy_RevertIfReinitialized() (gas: 7334541)
Test result: [32mok[0m. 3 passed; 0 failed; finished in 9.31s
| src/account/VertexAccount.sol:VertexAccount contract |                 |       |        |       |         |
|------------------------------------------------------|-----------------|-------|--------|-------|---------|
| Deployment Cost                                      | Deployment Size |       |        |       |         |
| 1179952                                              | 6712            |       |        |       |         |
| Function Name                                        | min             | avg   | median | max   | # calls |
| approveERC20                                         | 564             | 32991 | 35119  | 50119 | 11      |
| approveERC721                                        | 521             | 16913 | 25110  | 25110 | 3       |
| approveOperatorERC721                                | 645             | 15733 | 17029  | 28229 | 4       |
| execute                                              | 636             | 1048  | 1015   | 1493  | 3       |
| onERC721Received                                     | 1007            | 1007  | 1007   | 1007  | 1       |
| receive                                              | 55              | 55    | 55     | 55    | 2       |
| transfer                                             | 487             | 2836  | 522    | 7501  | 3       |
| transferERC20                                        | 542             | 2196  | 577    | 5470  | 3       |
| transferERC721                                       | 520             | 3716  | 555    | 10074 | 3       |


| src/core/VertexCore.sol:VertexCore contract |                 |         |         |         |         |
|---------------------------------------------|-----------------|---------|---------|---------|---------|
| Deployment Cost                             | Deployment Size |         |         |         |         |
| 5154881                                     | 25972           |         |         |         |         |
| Function Name                               | min             | avg     | median  | max     | # calls |
| actionsCount                                | 406             | 406     | 406     | 406     | 19      |
| authorizedStrategies                        | 548             | 1119    | 548     | 2548    | 7       |
| cancelAction                                | 475             | 13671   | 15651   | 30817   | 10      |
| createAction                                | 2991            | 199360  | 240437  | 243022  | 27      |
| createAndAuthorizeAccounts                  | 3653574         | 3653574 | 3653574 | 3653574 | 1       |
| createAndAuthorizeStrategies                | 2863236         | 2863236 | 2863236 | 2863236 | 1       |
| executeAction                               | 477             | 21091   | 17767   | 37495   | 6       |
| getAction                                   | 3928            | 4989    | 3928    | 9928    | 117     |
| initialize                                  | 1849            | 4277486 | 4391579 | 4595407 | 68      |
| name                                        | 3277            | 3277    | 3277    | 3277    | 1       |
| policy                                      | 361             | 379     | 361     | 2361    | 106     |
| queueAction                                 | 543             | 53564   | 61369   | 66004   | 13      |
| submitApproval                              | 3028            | 41281   | 43210   | 56160   | 34      |
| submitDisapproval                           | 2622            | 48552   | 67076   | 67076   | 11      |
| unauthorizeStrategies                       | 11269           | 11269   | 11269   | 11269   | 1       |


| src/factory/VertexFactory.sol:VertexFactory contract |                 |         |         |         |         |
|------------------------------------------------------|-----------------|---------|---------|---------|---------|
| Deployment Cost                                      | Deployment Size |         |         |         |         |
| 11573619                                             | 44393           |         |         |         |         |
| Function Name                                        | min             | avg     | median  | max     | # calls |
| deploy                                               | 9832            | 4864648 | 7292056 | 7292056 | 3       |
| initialVertex                                        | 205             | 205     | 205     | 205     | 64      |


| src/mock/scripts/TestScript.sol:TestScript contract |                 |     |        |     |         |
|-----------------------------------------------------|-----------------|-----|--------|-----|---------|
| Deployment Cost                                     | Deployment Size |     |        |     |         |
| 15669                                               | 107             |     |        |     |         |
| Function Name                                       | min             | avg | median | max | # calls |
| fallback                                            | 70              | 70  | 70     | 70  | 1       |


| src/policy/VertexPolicyNFT.sol:VertexPolicyNFT contract |                 |        |         |         |         |
|---------------------------------------------------------|-----------------|--------|---------|---------|---------|
| Deployment Cost                                         | Deployment Size |        |         |         |         |
| 2566798                                                 | 17800           |        |         |         |         |
| Function Name                                           | min             | avg    | median  | max     | # calls |
| balanceOf                                               | 651             | 2139   | 2651    | 2651    | 43      |
| batchGrantPermissions                                   | 3683            | 696998 | 1094583 | 1095282 | 62      |
| batchRevokePermissions                                  | 2789            | 35701  | 47640   | 60120   | 6       |
| batchUpdatePermissions                                  | 3293            | 63709  | 87512   | 108077  | 5       |
| checkExpiration                                         | 2895            | 3020   | 2895    | 6284    | 27      |
| getSupplyByPermissions                                  | 2929            | 6972   | 5058    | 12929   | 3       |
| hasPermission                                           | 1913            | 6398   | 6721    | 8713    | 31      |
| hashPermission                                          | 1083            | 1083   | 1083    | 1083    | 128     |
| hashPermissions                                         | 1922            | 1922   | 1922    | 1922    | 20      |
| holderHasPermissionAt                                   | 1540            | 3829   | 2498    | 10171   | 10      |
| ownerOf                                                 | 622             | 622    | 622     | 622     | 1       |
| setBaseURI                                              | 2710            | 13938  | 13938   | 25167   | 2       |
| setVertex                                               | 22647           | 22647  | 22647   | 22647   | 85      |
| tokenToPermissionExpirationTimestamp                    | 687             | 1487   | 687     | 2687    | 5       |
| tokenURI                                                | 5384            | 5384   | 5384    | 5384    | 1       |
| totalSupply                                             | 349             | 1327   | 349     | 2349    | 47      |
| transferFrom                                            | 570             | 570    | 570     | 570     | 1       |


| src/strategy/VertexStrategy.sol:VertexStrategy contract |                 |       |        |       |         |
|---------------------------------------------------------|-----------------|-------|--------|-------|---------|
| Deployment Cost                                         | Deployment Size |       |        |       |         |
| 986356                                                  | 6588            |       |        |       |         |
| Function Name                                           | min             | avg   | median | max   | # calls |
| DEFAULT_OPERATOR                                        | 302             | 302   | 302    | 302   | 44      |
| approvalPeriod                                          | 218             | 218   | 218    | 218   | 90      |
| approvalWeightByPermission                              | 2593            | 2593  | 2593   | 2593  | 22      |
| disapprovalWeightByPermission                           | 2592            | 2592  | 2592   | 2592  | 22      |
| expirationDelay                                         | 262             | 262   | 262    | 262   | 18      |
| getApprovalWeightAt                                     | 1839            | 4839  | 5839   | 5839  | 32      |
| getDisapprovalWeightAt                                  | 1747            | 3302  | 3747   | 3747  | 9       |
| isActionCanceletionValid                                | 13141           | 13141 | 13141  | 13141 | 3       |
| isActionPassed                                          | 13142           | 13395 | 13142  | 17777 | 44      |
| isFixedLengthApprovalPeriod                             | 246             | 246   | 246    | 246   | 37      |
| minDisapprovalPct                                       | 307             | 307   | 307    | 307   | 10      |
| queuingDuration                                         | 240             | 240   | 240    | 240   | 18      |



